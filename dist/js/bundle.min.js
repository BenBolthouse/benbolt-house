(()=>{class e{constructor(){this.head=null}last(){let e=this.head;if(!e)return null;for(;e;){if(!e.next)return e;e=e.next}return null}find(e){let t=this.head;if(!t)return null;for(;t;){if(t.id===e)return t;t=t.next}return null}push(e){let t=this.head;if(!t)return this.head=e,!0;for(;t;){if(!t.next)return t.next=e,!0;t=t.next}return!1}pop(){let e,t;if(!this.head)return null;if(!this.head.next)return e=this.head,this.head=null,e;for(e=this.head,t=this.head.next;t;){if(!t.next)return e.next=null,t;e=e.next,t=t.next}return null}unshift(e){this.head&&(e.next=this.head),this.head=e}shift(){let e;return this.head?(e=this.head,this.head.next?this.head=this.head.next:this.head=null,e):null}}class t extends e{constructor(e){super(),this.id=e.id,this.element=e}}class n extends e{constructor(e){super(),this.id=e.id,this.element=e,this.currentId=null,this.sectionLinks=e.querySelectorAll("[data-section-link]");const t=this.element.querySelectorAll("nav");t.length&&t.forEach((e=>{window.addEventListener("scroll",(()=>{window.scrollY+100>=window.innerHeight?e.classList.add("switch"):e.classList.remove("switch")}))})),window.addEventListener("scroll",(()=>{let e=this.head,t=this.head?this.head.next:null;if(e)if(t){for(;t;){const n=e.element.offsetTop-300,i=t.element.offsetTop-300;if(window.scrollY>=n&&window.scrollY<i)return void(this.currentId=e.element.id);e=e.next,t=t.next}this.currentId=this.last().element.id}else this.currentId=e.element.id;else this.currentId=null})),window.addEventListener("scroll",(()=>{this.sectionLinks.forEach((e=>{const t=e.getAttribute("data-section-link");this.currentId===t?e.classList.add("active"):e.classList.remove("active")})),this.find(this.currentId).element.classList.add("seen")})),window.addEventListener("resize",(()=>{setTimeout((()=>{const e=this.find(this.currentId).element;window.scroll({top:e.offsetTop})}),100)}))}applyInitialSeen(e){setTimeout((()=>{this.find(e).element.classList.add("seen")}),500)}updateSectionLinksAssociations(){this.sectionLinks.forEach((e=>{const t=e.getAttribute("data-section-link"),n=this.find(t);e.addEventListener("click",(e=>{e.preventDefault(),window.scroll({top:n.element.offsetTop})}))}))}}class i{constructor(e){this.id=e.id,this.element=e,this.next=null}}function s(){const e=document.body.querySelectorAll("[data-viewport-height]"),t=window.innerHeight;e.forEach((e=>{e.style.minHeight=`${t}px`}))}function o(){const e=document.body.querySelectorAll("[data-viewport-width]"),t=window.innerWidth;e.forEach((e=>{e.style.width=`${t}px`}))}function l(){const e=document.body.querySelectorAll("[data-orientation]");window.innerWidth>=window.innerHeight?e.forEach((e=>{e.classList.add("landscape"),e.classList.remove("portrait")})):e.forEach((e=>{e.classList.add("portrait"),e.classList.remove("landscape")}))}function d(e){let t;t&&clearTimeout(t),t=setTimeout(e,500)}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.getElementById("contactForm"),t=document.getElementById("contactFormFetching"),n=document.getElementById("contactFormSuccess");e.addEventListener("submit",(e=>{e.preventDefault();const{elements:i}=e.target,s={email:i.email.value,name:i.name.value,phone:i.phone.value,body:i.body.value,_csrf:i._csrf.value};t.classList.toggle("hidden"),fetch("/api/v1/contact",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(s)}).then((e=>{t.classList.toggle("hidden"),n.classList.toggle("hidden"),Object.values(i).forEach((e=>{e.disabled=!0}))})).catch((e=>{t.classList.toggle("hidden")}))}))}(),document.body.querySelectorAll("[data-page]").forEach((e=>{const s=new t(e);e.querySelectorAll("[data-article]").forEach((e=>{const t=new n(e);s.push(t),e.querySelectorAll("[data-section]").forEach((e=>{t.push(new i(e))})),t.updateSectionLinksAssociations(),t.applyInitialSeen("intro")}))})),s(),o(),l(),setTimeout((()=>{const e=document.body.querySelector("[data-dom-loading]"),t=document.body.querySelectorAll("article"),n=document.body.querySelectorAll("button");e&&e.classList.add("hidden"),t.forEach((e=>{document.body.style.overflowY="scroll"})),n.forEach((e=>{e.disabled=!1}))}),500)})),window.addEventListener("resize",(()=>{d(s()),d(o()),l()})),window.addEventListener("scroll",(()=>{s(),o()}))})();